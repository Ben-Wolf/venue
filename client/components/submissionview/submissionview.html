
<div class='submissionview'>
  <!-- <div class='title'> Event Submissions </div> -->
  <h3> Submissions </h3>
  <span ng-include="'components/submissionview/partials/controlbuttons.html'"></span>

  <div class='container content'>
    <div class='row header'>
      <div class='col-xs-2'> <div class='column-name'> Student Name </div> </div>
      <div class='col-xs-1'> <div class='column-name'> Submitted </div> </div>
      <div class='col-xs-1'> <div class='column-name'> Validated </div> </div>
      <div class='col-xs-2'> <div class='column-name'> Course </div> </div>
      <div class='col-xs-4'> <div class='column-name'> Submission Content </div> </div>
      <div class='col-xs-1'> <div class='column-name'> Image </div> </div>
    </div>
    <!-- filter:search:strict | -->
    <div ng-repeat="submission in submissions | visibleSubmission:selectedSections:submissionFilter" class='item'>
      <div class='row' ng-show="viewMode == 'small'">
        <div class='col-xs-2 centered'> <!-- Student Name -->
          {{submission.submitter.firstName}} {{submission.submitter.lastName}}
        </div>

        <div class='col-xs-1 centered'> <!-- Submitted -->
          <div style='text-align:center'> <i ng-show='!submission.didNotSubmit' class='fa fa-check' aria-hidden="true"></i> </div>
        </div>

        <div class='col-xs-1 centered'> <!-- Validated -->
          <div style='text-align:center'> <i ng-show='submission.valid' class='fa fa-check' aria-hidden="true"></i> </div>
        </div>

        <div class='col-xs-2 centered'> <!-- Section -->
          {{ submission.sectionEvent.section.course.department }}
          {{ submission.sectionEvent.section.course.courseNumber }}
        </div>

        <div class='col-xs-4'> <!-- Submission Content -->
          <span ng-show='submission.showAllContent'> {{ submission.content }} </span>
          <span ng-show='!submission.showAllContent'>{{ submission.content | limitTo: 40 }}{{submission.content.length > 40 ? '...' : ''}}</span>
          <a href='#' ng-show='submission.content.length > 40 && !submission.showAllContent' ng-click='submission.showAllContent = true'> show </a>
          <a href='#' ng-show='submission.content.length > 40 && submission.showAllContent' ng-click='submission.showAllContent = false'> hide </a>
        </div>

        <div class='col-xs-1 centered'>
          <div ng-show='submission.images.length > 0'>
            <a href='#' ng-show='!submission.showImage' ng-click='submission.showImage = true; submission.showAllContent = false'> Show </a>
            <a href='#' ng-show='submission.showImage' ng-click='submission.showImage = false'> Hide </a>
          </div>
          <div style='text-align:center' ng-show='submission.images.length == 0'> None </div>
        </div>
      </div>
      <div ng-show='submission.showImage || viewMode == "large"' class='row submission-large'>
        <div class='col-xs-5 col-xs-offset-1'>
          <div class='submission-content'>
            <h5> {{ submission.submitter.firstName }} {{ submission.submitter.lastName }} </h5>
            <div class='submission-info-line'>
              <i ng-show='!submission.didNotSubmit' class='fa fa-check' aria-hidden="true"></i>
              <i ng-show='submission.didNotSubmit' class='fa fa-times' aria-hidden="true"></i>
              {{ submission.didNotSubmit ? "Not Submitted" : "Submitted" }} |
              <i ng-show='submission.valid' class='fa fa-check' aria-hidden="true"></i>
              <i ng-show='!submission.valid' class='fa fa-times' aria-hidden="true"></i>
              Validated |
              {{ submission.sectionEvent.section.course.department }}
              {{ submission.sectionEvent.section.course.courseNumber }}
            </div>
            {{submission.content}}
          </div>
        </div>
        <div class='col-xs-5'>
          <div class='submission-image-container'>
            <img ng-repeat="image in submission.images" src="{{image}}" class='submission-image'/>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
